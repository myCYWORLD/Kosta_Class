package com.my.control;

import java.io.IOException;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;


public class ProductListServlet extends HttpServlet {
	private static final long serialVersionUID = 1L;

	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		response.setContentType("application/json; charset=UTF:8");
		printWriter out = response.getWriter();
		
		List<Map<String,Object>> test = new ArrayList<>();
		Map<String,Object> map = new HashMap<>();
		map.put("prod_no", "C0001");
		map.put("prod_name", "아메리카노");
		map.put("prod_price", "1000");
		sample.add(map);
		map.put("prod_no", "C0002");
		map.put("prod_name", "아메리카노");
		map.put("prod_price", "1000");
		sample.add(map);
		map.put("prod_no", "C0003");
		map.put("prod_name", "아메리카노");
		map.put("prod_price", "1500");
		sample.add(map);
		//------------------------------------
		
		String result = "[";
		for(int i=0; i<sample.size(); i++) {
			Map<String, Object> map1= sample.get(i);
			map1.get("prod_no)";
			map1.get("prod_name)";
			map1.get("prod_price)";
		
		result += "{";
		result += "\"prod_no\":"; result +="\"C0001\""; result += ",";  //한줄로 쓰는 것보다 쪼개서 쓰는게
		result += "\"prod_name\":"; result +="\"아메리카노\""; result += ",";
		result += "\"prod_price\":"; result +="1000";
		result += "}";
		}
		result += ",";
		
		result += "{";
		result += "\"prod_no\":"; result +="\"C0002\""; result += ",";  //한줄로 쓰는 것보다 쪼개서 쓰는게
		result += "\"prod_name\":"; result +="\"아메리카노\""; result += ",";
		result += "\"prod_price\":"; result +="1000";
		result += "}";
		result += ",";
		
		result += "{";
		result += "\"prod_no\":"; result +="\"C0003\""; result += ",";  //한줄로 쓰는 것보다 쪼개서 쓰는게
		result += "\"prod_name\":"; result +="\"아메리카노\""; result += ",";
		result += "\"prod_price\":"; result +="1500";
		result += "}";
		
		result += "]";		
		
		out.print(result);
	}
}